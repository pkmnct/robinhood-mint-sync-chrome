!function(t){function e(t,e,n){return"string"==typeof t&&("%"==t.slice(-1)?t=parseInt(t.substring(0,t.length-1))/100*e:"vh"==t.slice(-2)?t=parseInt(t.substring(0,t.length-2))/100*n:"px"==t.slice(-2)&&(t=parseInt(t.substring(0,t.length-2)))),t}var n=t(window),i=1,o={};n.on("scroll",(function(){var e=n.scrollTop();t.map(o,(function(t){window.clearTimeout(t.timeoutId),t.timeoutId=window.setTimeout((function(){t.handler(e)}),t.options.delay)}))})).on("load",(function(){n.trigger("scroll")})),jQuery.fn.scrollex=function(l){var s,r,a,u,h,c=t(this);if(0==this.length)return c;if(this.length>1){for(var p=0;p<this.length;p++)t(this[p]).scrollex(l);return c}if(c.data("_scrollexId"))return c;switch(s=i++,(r=jQuery.extend({top:0,bottom:0,delay:0,mode:"default",enter:null,leave:null,initialize:null,terminate:null,scroll:null},l)).mode){case"top":a=function(t,e,n,i,o){return t>=i&&o>=t};break;case"bottom":a=function(t,e,n,i,o){return n>=i&&o>=n};break;case"middle":a=function(t,e,n,i,o){return e>=i&&o>=e};break;case"top-only":a=function(t,e,n,i,o){return i>=t&&n>=i};break;case"bottom-only":a=function(t,e,n,i,o){return n>=o&&o>=t};break;default:case"default":a=function(t,e,n,i,o){return n>=i&&o>=t}}return u=function(t){var i,o,l,s,r,a,u,h=this.state,c=this.$element.offset();o=t+(i=n.height())/2,l=t+i,s=this.$element.outerHeight(),r=c.top+e(this.options.top,s,i),a=c.top+s-e(this.options.bottom,s,i),(u=this.test(t,o,l,r,a))!=h&&(this.state=u,u?this.options.enter&&this.options.enter.apply(this.element):this.options.leave&&this.options.leave.apply(this.element)),this.options.scroll&&this.options.scroll.apply(this.element,[(o-r)/(a-r)])},h={id:s,options:r,test:a,handler:u,state:null,element:this,$element:c,timeoutId:null},o[s]=h,c.data("_scrollexId",h.id),h.options.initialize&&h.options.initialize.apply(this),c},jQuery.fn.unscrollex=function(){var e,n,i=t(this);if(0==this.length)return i;if(this.length>1){for(var l=0;l<this.length;l++)t(this[l]).unscrollex();return i}return(e=i.data("_scrollexId"))?(n=o[e],window.clearTimeout(n.timeoutId),delete o[e],i.removeData("_scrollexId"),n.options.terminate&&n.options.terminate.apply(this),i):i}}(jQuery);